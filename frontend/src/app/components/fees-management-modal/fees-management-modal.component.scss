@use 'sass:color';

// Inherit common modal styles
@use '../student-modal/student-modal.component.scss';

.modal-card {
    max-width: 900px; // Wider for this complex view
}

.modal-body {
    padding: 0; // Remove padding to allow full-width sections
}

.add-record-form {
    padding: 1.5rem;
    background-color: #f8f9fa;
    border-bottom: 1px solid #e9ecef;

    h3 {
        margin-top: 0;
        margin-bottom: 1.5rem;
    }

    .form-row {
        align-items: flex-end;
    }

    .form-group-action {
        padding-bottom: 0.5rem; // Align button with inputs
        button {
            padding: 0.75rem 1.5rem;
            background-color: var(--color-secondary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            &:hover { background-color: color.adjust(#0059b3, $lightness: -10%); }
            &:disabled { background-color: color.adjust(#0059b3, $lightness: 20%); cursor: not-allowed; }
        }
    }
}

.records-list {
    padding: 1.5rem;

    h3 {
        margin-top: 0;
        margin-bottom: 1rem;
    }

    table {
        width: 100%;
        border-collapse: collapse;

        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        th {
            font-weight: 600;
        }

        .empty-state {
            text-align: center;
            padding: 2rem;
            color: #6c757d;
        }

        .actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 0.3rem 0.6rem;
            border: none;
            border-radius: 6px;
            background-color: transparent;
            color: white;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.15s ease;
            white-space: nowrap;

            &.edit {
                background-color: #6c757d;
                color: white;
                &:hover { background-color: color.adjust(#6c757d, $lightness: -8%); }
            }
            &.save {
                background-color: #28a745;
                color: white;
                &:hover { background-color: color.adjust(#28a745, $lightness: -8%); }
            }
            &.cancel {
                background-color: #dc3545;
                color: white;
                &:hover { background-color: color.adjust(#dc3545, $lightness: -8%); }
            }
            &.reminder {
                background-color: #10b981;
                color: white;
                font-weight: 600;
                &:hover {
                    background-color: color.adjust(#10b981, $lightness: -6%);
                    transform: translateY(-1px);
                    box-shadow: 0 4px 12px rgba(16,185,129,0.18);
                }
            }
        }

        tr.selected {
            background-color: #f1f5f9;
            td { border-left: 4px solid #0d6efd; }
        }

        .term-picker {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-right: 0.75rem;
            label { font-weight: 600; font-size: 0.9rem; }
            select, input[type="number"] { padding: 0.4rem 0.6rem; border-radius: 6px; border: 1px solid #e5e7eb; }
            .action-btn { padding: 0.45rem 0.75rem; }
        }

        .mono-icon {
            width: 1em;
            height: 1em;
            vertical-align: middle;
            margin-right: 0.4rem;
            fill: currentColor;
        }

        .fees-status-badge {
            display: inline-block;
            margin-left: 8px;
            padding: 2px 8px;
            border-radius: 999px;
            font-size: 0.75rem;
            font-weight: 700;
            &.paid { color: #2e7d32; background: #e8f5e9; }
            &.pending { color: #1976d2; background: #e3f2fd; }
            &.defaulter { color: #c62828; background: #ffebee; }
        }

        .amount-pos { color: #2e7d32; font-weight: 600; }
        .amount-neg { color: #c62828; font-weight: 700; }
    }
}

.modal-footer {
  display: flex;
  gap: 0.75rem;
  justify-content: flex-end;
  padding: 1.5rem;
  border-top: 1px solid #e9ecef;

  .cancel-btn {
    background: #f3f4f6;
    color: #374151;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;

    &:hover {
      background: #e5e7eb;
    }
  }

    .send-history-btn {
        background: #0b0b0b; /* black */
        color: #ffffff;
        border: none;
        padding: 0.75rem 1.25rem;
        border-radius: 8px;
        font-weight: 700;
        cursor: pointer;
        transition: transform 0.12s ease, box-shadow 0.12s ease;
        margin-right: 0.5rem;

        &:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(11,11,11,0.18); }
        &:disabled { opacity: 0.6; cursor: not-allowed; transform: none; box-shadow: none; }
    }
}
